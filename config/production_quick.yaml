# =============================================================================
# QUICK PRODUCTION CONFIG (For Testing/Iteration)
# =============================================================================
# Same optimizations as production_v1, but with reduced scale:
#   - 100k samples (vs 500k)
#   - 50 epochs (vs 200)
#   - 3 ensemble models (vs 5)
#
# Use this for:
#   - Quick validation of pipeline changes
#   - Hyperparameter tuning
#   - Testing new architectures
#
# Estimated time: ~4-6 hours (vs ~48 hours for full production)
# =============================================================================

training:
  model_class_name: SpatialASLNet
  hidden_sizes: [32, 64, 128, 256]
  dropout_rate: 0.1
  norm_type: group

  loss_type: l1
  dc_weight: 0.0
  variance_weight: 0.1
  att_scale: 0.033
  cbf_weight: 1.0
  att_weight: 1.0

  log_var_cbf_min: -5.0
  log_var_cbf_max: 10.0
  log_var_att_min: -5.0
  log_var_att_max: 14.0

  # REDUCED for quick iteration
  learning_rate: 0.0001
  weight_decay: 0.0001
  batch_size: 32
  n_epochs: 50                       # Reduced from 200
  n_ensembles: 3                     # Reduced from 5

  early_stopping_patience: 15        # Reduced from 25
  early_stopping_min_delta: 0.0
  validation_steps_per_epoch: 25     # Reduced from 50

data:
  use_offline_dataset: true
  offline_dataset_path: asl_spatial_dataset_100k   # Use existing 100k dataset
  num_samples_to_load: 100000                      # Reduced from 500k

  pld_values: [500, 1000, 1500, 2000, 2500, 3000]

  normalization_mode: global_scale
  global_scale_factor: 10.0
  noise_type: rician

  data_noise_components:
    - thermal
    - physio
    - drift

noise_config:
  snr_range: [2.0, 25.0]
  physio_amp_range: [0.03, 0.15]
  physio_freq_range: [0.5, 2.0]
  drift_range: [-0.03, 0.03]
  spike_probability: 0.02
  spike_magnitude_range: [2.0, 5.0]

simulation:
  T1_artery: 1850.0
  T_tau: 1800.0
  alpha_PCASL: 0.85
  alpha_VSASL: 0.56
  T2_factor: 1.0
  alpha_BS1: 1.0

  domain_randomization:
    enabled: true
    T1_artery_range: [1550.0, 2150.0]
    alpha_PCASL_range: [0.75, 0.95]
    alpha_VSASL_range: [0.40, 0.70]
    T_tau_perturb: 0.10

wandb:
  wandb_project: asl-production-quick
  wandb_entity: adikondepudi

_experiment:
  name: production_quick
  description: Quick iteration config with reduced scale
  hypothesis: Same as production_v1 but faster for testing
